<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="format-detection" content="telephone=no" />
<meta http-equiv="Cache-control" content="no-cache"/>
<meta http-equiv="Expires" content="-1"/> 
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Widgets Demo</title>

<link href="widgets.min.css" type="text/css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet"> 
<link href="pages.css" type="text/css" rel="stylesheet"/>

<script>
    var sURL = window.location.href;
    var urlURL = new URL(sURL);
    // var searchParams = new URLSearchParams(urlURL.search);
    // var sEndPoint = searchParams.get('endpoint');  
    // var sStream = searchParams.get('stream');  

    // if(! sEndPoint){ sEndPoint = "Treasure_Bank_Service";}
    // console.log(sEndPoint);

    // if(typeof sStream != "string" || sStream == null || sStream.length==0){ sStream = "dev";}
    // console.log(sStream);

	if(!window._genesys)window._genesys = {};
	if(!window._gt)window._gt = [];
	
		         
	window._genesys.widgets = {
      main: {
            debug: true,
            theme: "light",
            lang: "en",
            customStylesheetID: "genesys_widgets_custom",
            preload: []
      },
     
      webchat: {
            userData: {},
            emojis: true,
            cometD: {
                  enabled: false
            },
            autoInvite: {
                  enabled: false,
                  timeToInviteSeconds: 5,
                  inviteTimeoutSeconds: 30
            },
            chatButton: {
                  enabled: true,
                  openDelay: 1000,
                  effectDuration: 300,
                  hideDuringInvite: true
            },
            uploadsEnabled: false,
            enableCustomHeader: true,
            transport: {
                  dataURL: "https://digital.api01-westus2.prod001.genesysengage.com/nexus/v3/chat/sessions",
                  type: "pureengage-v3-rest",
                  endpoint: "d38_ChatEndpoint1",
                  headers: {
                        "x-api-key": "c729c2be-1add-49e2-9fe9-45fe7c24aeeb"
                  },
                  stream: "dev"
            },
            ajaxTimeout: 50000,
            form: {
                wrapper: "<table></table>",
                inputs: [
             
                    {
                        id: "cx_webchat_form_firstname",
                        name: "firstname",
                        maxlength: "100",
                        placeholder: "@i18n:webchat.ChatFormPlaceholderFirstName",
                        label: "@i18n:webchat.ChatFormFirstName"
                    },
             
                    {
                        id: "cx_webchat_form_lastname",
                        name: "lastname",
                        maxlength: "100",
                        placeholder: "@i18n:webchat.ChatFormPlaceholderLastName",
                        label: "@i18n:webchat.ChatFormLastName"
                    },
             
                    // {
                    //     id: "cx_webchat_form_email",
                    //     name: "email", 
                    //     maxlength: "100",
                    //     //placeholder: "@i18n:webchat.ChatFormPlaceholderEmail",
                    //     placeholder: "@i18n:webchat.ChatFormPlaceholderLastName",
                    //     label: "@i18n:webchat.ChatFormEmail",
                    //     validate: function(event, form, input, label, $, CXBus, Common){
                    //         let text = !!input ? input.val() : 'nok';
                    //         return text.includes("@");
                    //     }
                    // },
             
                    {
                        id: "cx_webchat_form_subject", 
                        name: "subject", 
                        maxlength: "100",
                        placeholder: "@i18n:webchat.ChatFormPlaceholderSubject",
                        label: "@i18n:webchat.ChatFormSubject"
                    }
                ]
            }
      }
	};
	         
</script>

		
<script>
// Standard CX-Widget Instrumentation Script
(function(d, s, id, o){
	var f = function(){
		var fs = d.getElementsByTagName(s)[0], e;
		if (d.getElementById(id)) return;e = d.createElement(s); e.id = id;
		e.src = o.src;fs.parentNode.insertBefore(e, fs);
	},ol = window.onload;
	if(o.onload){typeof window.onload != "function"?window.onload=f:window.onload=function(){ol();f()}}else f();
})(document,'script','genesys-cx-widget', {src: "widgets.min.js", onload: false});
</script>


</head>
  <body>
    <h1>RBC Engage Cloud (Azure) - Production Environment</h1>
    <!-- <h2>End Point: <span class="genesys_red"><script type="text/javascript">document.write(sEndPoint)</script></span></h2> -->
  </body>
</html>